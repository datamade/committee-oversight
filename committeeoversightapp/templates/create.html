{% extends 'base.html' %}
{% load crispy_forms_tags %}
{% load static %}

{% block content %}
<div class="col col-lg-8">
<script type="text/javascript">
    $(document).ready(function() {
      $('.basic-multiple').select2();
    });

    $(function() {
        $('#WitnessForm').formset();
    })
</script>

<div class="hearing-form card">
  <h1>Create New Hearing Record</h1>
  <br />
  <form method="POST" class="form">
    {% csrf_token %}

    {{ event_form | crispy }}

    {{ committee_form | crispy }}

    {{ category_form | crispy }}

    {{ transcript_form | crispy }}

    <h4>Witnesses</h4>
    {{ witness_formset.management_form }}
    <div id="WitnessForm">
      {% for form in witness_formset.forms %}
      <div class='form-container'>

        <div class="row">
           <div class="col-sm-6">
             <div class="col-form-label">{{ form.name.label }}</div>
             {{ form.name }}
           </div>
           <div class="col-sm-6">
             <div class="col-form-label">{{ form.organization.label }}</div>
             {{ form.organization }}
           </div>
        </div>

        <div>
          <div class="col-form-label">{{ form.url.label }}</div>
          {{ form.url }}
        </div>

        <div class="form-check">
          <label class="form-check-label" for="retired">{{ form.retired.label }}</label>
          {{ form.retired }}
        </div>

      </div>
      {% endfor %}
    </div>

    <button type="submit" class="btn-lg btn-success float-right" id="save-hearing-button">
      <i class="far fa-save"></i>&nbsp;
      Save hearing
    </button>

  </form>
</div>
</div>
{% endblock %}
