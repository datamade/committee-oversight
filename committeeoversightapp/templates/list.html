{% extends 'base.html' %}

{% block content %}
<div class="col">
<div class="hearing-form card">

 <p><a href="/" class="btn btn-success">Create new hearing</a></p>
 <p><i>The table below shows all scraped, imported, and manually entered hearings.</i></p>
 <table class="table table-striped table-bordered" id="hearing-table">
  <thead>
    <tr>
      <th scope="col">Date Updated</th>
      <th scope="col" class="hearing-title-col">Hearing Title</th>
      <th scope="col">Hearing Date</th>
      <th scope="col">Edit</th>
      <th scope="col">Delete</th>
    </tr>
  </thead>
  <tbody>
    {% for hearing in hearings %}
    <tr>
      <td>{{hearing.updated_at | date:"Y-m-d H:i:s"}}</td>
      <td>{{hearing | title}}</td>
      <td>{{hearing}}</td>
      <td>
        <a href="/edit/{{hearing}}">
          <i class="fas fa fa-pencil-alt" id="edit-icon"></i>
        </a>
      </td>
      <td>
        <a href="/delete/{{hearing}}">
          <i class="fas fa fa-times-circle" id="delete-icon"></i>
        </a>
      </td>
    </tr>
    {% endfor %}
  </tbody>
  </table>

</div>
</div>

<script>
$(document).ready( function () {
    $('#hearing-table').DataTable({
      "dom": "Bfrtip",
      "order": [[ 0, "desc" ]],
      "processing": true,
      "serverSide": true,
      "ajax": "{% url 'order_list_json' %}"
    });
} );
</script>

{% endblock %}
